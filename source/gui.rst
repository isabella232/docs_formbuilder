.. sectionauthor:: Михаил Гусев <mikhail.gusev@nextgis.ru>

.. _ngfb_gui:

Описание интерфейса
===================

По умолчанию нтерфейс программы имеет следующий вид: (:numref:`ngfb_gui_pic`).

.. figure:: _static/ngfb_gui.png
   :name: ngfb_gui_pic
   :align: center
   :width: 16cm

   Внешний вид интерфейса приложения Formbuilder.

   Цифрами обозначено: 1 - главное меню; 2 - панель инструментов; 3 - маркер наличия обновлений; 4 - кнопка авторизации; 5 - "экран устройства"; 6 - панель "Элементы"; 7 - панель "Данные"; 8 - панель "Свойства".

Вы можете измененить положение, размер и видимость панелей:
   * наведите курсор мыши на шапку панели и зажмите левую кнопку для перетаскивания её в другое место;
   * потяните за край панели для изменения её ширины/высоты;
   * нажмите на кнопку закрытия панели чтобы скрыть её. Восстановить видимость можно из пункта "Вид" главного меню.

Главное меню
------------

Главное меню содержит следующие пункты:

**Файл**

    * **Новый**. Создать новый пустой проект.
    * **Открыть**. Открыть проект, загрузив его из файла с расширением ".ngfp".
    * **Сохранить**. Сохранить проект в файл с расширением ".ngfp".
    * **Сохранить как...**. Сохранить проект в файл с расширением ".ngfp", выбрав путь до файла.
    * **Выход**. Выход из программы.

**Правка**

    * **Скачать из NextGIS**. Скачать форму (и данные) из NextGIS Web с выбором существующего слоя, указав параметры подключения к своей веб-гис.
    * **Загрузить в NextGIS**. Отправить форму в NextGIS Web с созданием нового слоя, указав параметры подключения к своей веб-гис.
    * **Свойства формы**. Редактировать основные свойства формы: имя слоя и тип геометрии собираемых объектов.
    * **Очистить форму**. Удалить все элементы на форме.

**Вид**

    * **Панели**. Скрытие/показ панелей интерфейса.

**Настройки**

    * **Язык**. Выбор языка интерфейса. Для того чтобы изменения вступили в силу необходимо перезагрузить приложение.

**Помощь**

    * **Показать страницу помощи**. Открытие страницы помощи в бразуере.
    * **Нужна поддержка?**. Открытие страницы коммерческой поддержки в браузере.
    * **О программе**. Показ диалога "О программе".

Панель инструментов
-------------------

Содержит кнопки быстрого доступа к подпунктам главного меню. Наведите курсор мыши на кнопку чтобы увидеть её название (во всплывающем сообщении) и описание (в статусной строке программы внизу).

.. note::
    Некоторые кнопки панели инструментов могут быть недоступны для вашего плана поддержки, о чём свидетельствует иконка в виде замка на той или иной кнопке. Для того чтобы получить полный доступ ко всем функциям программы - пройдите авторизацию.

Маркер наличия обновлений
-------------------------

Маркер в виде зелёного квадрата со стрелкой (по умолчанию справа вверху) будет показан только если программе удалось найти доступные обновления (только для Windows и Mac OS). Если маркер не показан - то обновлений либо нет, либо программе не удалось подключиться к серверу обновлений. При наличии маркера нажмите на него чтобы обновить программу: программа закроется (с предложением сохранить проект при наличии изменений), после чего откроется диалог обновления компонентов NextGIS. Следуйте шагам мастера установки обновлений. После завершения работы диалога программа запустится автоматически.

Альтернативо можно запустить мастер обновления компонентов NextGIS как отдельную программу из директории установки NextGIS.

Кнопка авторизации
------------------

Кнопка с изображением аватара (по умолчанию справа вверху) позволяет пройти авторизацию в сервисах NextGIS и получить расширенную функциональность программы при наличии соответствующего плана. Нажмите на кнопку чтобы пройти авторизацию: во всплывающем окне нажмите "Авторизоваться" и введите логин и пароль в открывшейся странице браузера, после чего вернитесь в программу. Если при последующем нажатии на кнопку авторизации во всплывающем окне есть надпись "На поддержке", то вся функциональность программы должна быть доступна.

Альтернативо можно проделать те же действия из пункта главного меню: Помощь -> О программе -> Ваш аккаунт.

Для того чтобы сменить аккаунт нажмите на кнопку авторизации ещё раз и во всплывающем окне нажмите "Выход".

.. note::
    Авторизацию можно пройти один раз. При следующем запуске программы авторизация пройдёт автоматически. Обратите внимание, что после запуска программы и перед тем как заблокированная функциональность станет доступна может пройти несколько секунд.

Экран устройства
----------------

Макет экрана реального устройства на котором будет производится сбор данных в NextGIS Mobile. Предназначен для создания формы: т.е. для размещения, перемещения и группирования элементов из которых состоит форма и с помощью которых будут заноситься данные об одном объекте редактируемого слоя в момент сбора данных. Элементы в форме располагаются вертикально друг за другом. Имеется возможность группировки элементов по именнованым вкладкам.

Чтобы *добавить элемент* на форму - начните перетаскивать его курсором с зажатой левой кнопкой мыши из панели элементов (по умолчанию слева) - курсор примет форму сжатой руки. Альтернативно можно быстро добавить элемент в конец формы один раз щёлкнув по нему левой кнопкой мыши в панели элементов с зажатой клавишей клавиатуры Ctrl.

Чтобы *выделить элемент* - нажмите на него на форме левой кнопкой мыши один раз. Вокруг элемента появится красная пунктирная рамка.

Чтобы *переместить элемент* - перетащите его с зажатой левой кнопкой мыши в любое место формы.

Чтобы *удалить элемент* - выделите его и нажмите клавишу клавиатуры Delete. Удаление элемента отменить нельзя.

Панель "Элементы"
-----------------

Содержит в себе список всех доступных элементов которые можно создать на форме. Наведите курсор на элемент чтобы увидеть его описание во всплывающем сообщении.

Чтобы *добавить элемент* на форму - начните перетаскивать его курсором с зажатой левой кнопкой мыши на экран устройства - курсор примет форму сжатой руки. Альтернативно можно быстро добавить элемент в конец формы один раз щёлкнув по нему левой кнопкой мыши с зажатой клавишей клавиатуры Ctrl.

.. note::
    Некоторые элементы могут быть недоступны для вашего плана поддержки, о чём свидетельствует иконка в виде замка на том или ином элементе. Для того чтобы получить полный доступ ко всем функциям программы - пройдите авторизацию.

Панель "Данные"
---------------

Содержит в себе таблицу полей слоя. В программе Formbuilder в одном проекте редактируется только одна форма, привязанная только к одному слою. Поля слоя создаются *автоматически* при добавлении элементов на форму. Чтобы увидеть к какому элементу привязаны какие поля - выделите элемент. Привязанные к элементу поля будут выделены жирным шрифтом.

При создании элементов для полей автоматически генерируются их имя, псевдоним и тип:
    * имя поле изменять нельзя;
    * псевдоним поля можно изменить в соответствующей текстовой строке в таблице панели "Данные";
    * тип поля можно изменить в соответствующем выпадающем списке в таблице панели "Данные". Обратите внимание, что тип поля зависит от самого элемента и его свойств (например элемент "Дата и время" может сохранять только значения типа "Дата-время" и "Строка" в момент сбора данных, но не может сохранять значение типа "Целое число"). Изменяйте свойства элемента для того чтобы у поля появилось больше доступных типов данных;

Панель "Свойства"
-----------------

Содержит в себе свойства выделенного элемента. Выделите элемент, нажав по нему левой кнопкой мыши. Изменяйте свойства в появившихся полях - изменения будут сохраняться автоматически. Обратите внимание: изменение одного свойства может повлечь за собой изменение другого свойства этого элемента из-за их несовместимости или взаимного влияния. Изменение свойств элемента также ведёт к увеличению или уменьшению количества доступных типов данных для связанных с элементом полей: отследить это можно в таблице панели "Данные".
